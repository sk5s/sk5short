const y=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))u(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&u(a)}).observe(document,{childList:!0,subtree:!0});function l(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(e){if(e.ep)return;e.ep=!0;const o=l(e);fetch(e.href,o)}};y();var d="/sk5short/icon/icon.png";const h=document.getElementById("navbar-burger-item"),m=document.querySelector('[data-target="navbar-burger-item"]'),p=document.querySelector("#message_modal"),b=document.querySelector("#message_modal_content"),w=document.querySelectorAll(".message_modal_close_button");m.addEventListener("click",()=>{m.classList.toggle("is-active"),h.classList.toggle("is-active")});w.forEach(function(t){t.addEventListener("click",()=>{p.classList.toggle("is-active")})});function L(t){p.classList.toggle("is-active"),b.innerHTML=t}const s=document.querySelector("#your_url"),i=document.querySelector("#your_title"),c=document.querySelector("#your_description"),r=document.querySelector("#your_image"),k=document.querySelectorAll(".preview-image"),E=document.querySelectorAll(".preview-title"),$=document.querySelectorAll(".preview-description"),q=document.querySelector("#submit_form_button"),S=document.getElementById("use_website_favicon_button"),T=document.getElementById("updatepreview_button"),v="sk5short | make a short link just in a minutes, use javascript to redirect. | samko5sam",f="sk5short",_=d;q.addEventListener("click",function(t){t.preventDefault();let n=j();console.log(n),L(`<h1 class='title is-2 uppercase'>copy this text</h1><pre><code id='code_area' contenteditable="true"></code>`);let l=document.getElementById("code_area");l.innerText=`<!--
|     sk5short     |
| make a short link just in a minutes, use javascript to redirect.| https://sk5s.cyou/sk5short/ -->${n}`,B(l.innerText,"index.html","txt")});S.addEventListener("click",O);T.addEventListener("click",g);function x(t){return`https://www.google.com/s2/favicons?domain_url=${t}`}function O(){s.value?r.value=x(s.value):r.value=d,g()}function g(){k.forEach(function(t){t.src=r.value===""?_:r.value}),E.forEach(function(t){t.innerHTML=i.value===""?f:i.value}),$.forEach(function(t){t.innerHTML=c.value===""?v:c.value})}function j(){return r.value=r.value===""?_:r.value,i.value=i.value===""?f:i.value,c.value=c.value===""?v:c.value,`<!DOCTYPE html><html lang="zh" prefix="og: http://ogp.me/ns#"><head><title>${i.value}</title><meta charset="utf-8"><meta name="author" content="samko5sam"><meta name="description" content="${c.value}"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/png" href="${r.value}"><meta property="og:title" content="${i.value}"><meta property="og:description" content="${c.value}"><meta property="og:url" content="${s.value}"><meta property="og:locale" content="${your_locale.value}"><meta property="og:image" content="${r.value}"><meta property="og:type" content="${your_type.value}"><meta property="og:site_name" content="${your_site_name.value}"></head><body><noscript><h1>\u60A8\u7684\u700F\u89BD\u5668\u4E0D\u652F\u63F4javascript\uFF0C\u8ACB\u624B\u52D5\u6309\u9023\u7D50<br><h2>Javascript didn't enable, please open it by yourself.</h2></h1></noscript><script>location.replace("${s.value}")<\/script><h1><a href="${s.value}">GO</a></h1></body></html>`}function B(t,n,l){var u=new Blob([t],{type:l});let e=document.createElement("a"),o=URL.createObjectURL(u);e.href=o,e.download=n,e.classList.add("button","is-success","uppercase"),e.innerText="download";let a=document.getElementById("download_button");a.innerHTML="",a.appendChild(e),e.click(),setTimeout(function(){a.removeChild(e),window.URL.revokeObjectURL(o)},100)}
