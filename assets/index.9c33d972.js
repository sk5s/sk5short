const _=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))u(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&u(a)}).observe(document,{childList:!0,subtree:!0});function c(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(e){if(e.ep)return;e.ep=!0;const o=c(e);fetch(e.href,o)}};_();const y=document.getElementById("navbar-burger-item"),d=document.querySelector('[data-target="navbar-burger-item"]'),m=document.querySelector("#message_modal"),h=document.querySelector("#message_modal_content"),b=document.querySelectorAll(".message_modal_close_button");d.addEventListener("click",()=>{d.classList.toggle("is-active"),y.classList.toggle("is-active")});b.forEach(function(t){t.addEventListener("click",()=>{m.classList.toggle("is-active")})});function w(t){m.classList.toggle("is-active"),h.innerHTML=t}const s=document.querySelector("#your_url"),i=document.querySelector("#your_title"),l=document.querySelector("#your_description"),r=document.querySelector("#your_image"),L=document.querySelectorAll(".preview-image"),k=document.querySelectorAll(".preview-title"),E=document.querySelectorAll(".preview-description"),$=document.querySelector("#submit_form_button"),q=document.getElementById("use_website_favicon_button"),S=document.getElementById("updatepreview_button"),p="sk5short | make a short link just in a minutes, use javascript to redirect. | samko5sam",v="sk5short",g="https://alsonow.neocities.org/img/alsonow-lite-logo.svg";$.addEventListener("click",function(t){t.preventDefault();let n=O();console.log(n),w(`<h1 class='title is-2 uppercase'>copy this text</h1><pre><code id='code_area' contenteditable="true"></code>`);let c=document.getElementById("code_area");c.innerText=`<!--
|     sk5short     |
| make a short link just in a minutes, use javascript to redirect.| https://sk5s.github.io/sk5short/ -->${n}`,j(c.innerText,"index.html","txt")});q.addEventListener("click",x);S.addEventListener("click",f);function T(t){return`https://s2.googleusercontent.com/s2/favicons?domain_url=${t}`}function x(){s.value?r.value=T(s.value):r.value="https://alsonow.neocities.org/img/alsonow-lite-logo.svg",f()}function f(){L.forEach(function(t){t.src=r.value===""?g:r.value}),k.forEach(function(t){t.innerHTML=i.value===""?v:i.value}),E.forEach(function(t){t.innerHTML=l.value===""?p:l.value})}function O(){return r.value=r.value===""?g:r.value,i.value=i.value===""?v:i.value,l.value=l.value===""?p:l.value,`<!DOCTYPE html><html lang="zh" prefix="og: http://ogp.me/ns#"><head><title>${i.value}</title><meta charset="utf-8"><meta name="author" content="samko5sam"><meta name="description" content="${l.value}"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/png" href="${r.value}"><meta property="og:title" content="${i.value}"><meta property="og:description" content="${l.value}"><meta property="og:url" content="${s.value}"><meta property="og:locale" content="${your_locale.value}"><meta property="og:image" content="${r.value}"><meta property="og:type" content="${your_type.value}"><meta property="og:site_name" content="${your_site_name.value}"></head><body><noscript><h1>\u60A8\u7684\u700F\u89BD\u5668\u4E0D\u652F\u63F4javascript\uFF0C\u8ACB\u624B\u52D5\u6309\u9023\u7D50<br><h2>Javascript didn't enable, please open it by yourself.</h2></h1></noscript><script>location.replace("${s.value}")<\/script><h1><a href="${s.value}">GO</a></h1></body></html>`}function j(t,n,c){var u=new Blob([t],{type:c});let e=document.createElement("a"),o=URL.createObjectURL(u);e.href=o,e.download=n,e.classList.add("button","is-success","uppercase"),e.innerText="download";let a=document.getElementById("download_button");a.innerHTML="",a.appendChild(e),e.click(),setTimeout(function(){a.removeChild(e),window.URL.revokeObjectURL(o)},100)}
