const p=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}};p();const g=document.getElementById("navbar-burger-item"),d=document.querySelector('[data-target="navbar-burger-item"]'),m=document.querySelector("#message_modal"),y=document.querySelector("#message_modal_content"),v=document.querySelectorAll(".message_modal_close_button");d.addEventListener("click",()=>{d.classList.toggle("is-active"),g.classList.toggle("is-active")});v.forEach(function(o){o.addEventListener("click",()=>{m.classList.toggle("is-active")})});function f(o){m.classList.toggle("is-active"),y.innerHTML=o}const u=document.querySelector("#your_url"),l=document.querySelector("#your_title"),i=document.querySelector("#your_description"),c=document.querySelector("#your_image");document.querySelectorAll(".preview-image");document.querySelectorAll(".preview-title");document.querySelectorAll(".preview-description");const _=document.querySelector("#submit_form_button"),h="sk5short | make a short link just in a minutes, use javascript to redirect. | samko5sam",b="sk5short",L="https://alsonow.neocities.org/img/alsonow-lite-logo.svg";_.addEventListener("click",function(o){o.preventDefault();let n=k();console.log(n),f(`<h1 class='title is-2 uppercase'>copy this text</h1><pre><code id='code_area' contenteditable="true"></code>`);let a=document.getElementById("code_area");a.innerText=`<!--
|     sk5short     |
| make a short link just in a minutes, use javascript to redirect.| https://sk5s.github.io/sk5short/ -->${n}`,w(a.innerText,"index.html","txt")});function k(){return c.value=c.value===""?L:c.value,l.value=l.value===""?b:l.value,i.value=i.value===""?h:i.value,`<!DOCTYPE html><html lang="zh" prefix="og: http://ogp.me/ns#"><head><title>${l.value}</title><meta charset="utf-8"><meta name="author" content="samko5sam"><meta name="description" content="${i.value}"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/png" href="${c.value}"><meta property="og:title" content="${l.value}"><meta property="og:description" content="${i.value}"><meta property="og:url" content="${u.value}"><meta property="og:locale" content="${your_locale.value}"><meta property="og:image" content="${c.value}"><meta property="og:type" content="${your_type.value}"><meta property="og:site_name" content="${your_site_name.value}"></head><body><noscript><h1>\u60A8\u7684\u700F\u89BD\u5668\u4E0D\u652F\u63F4javascript\uFF0C\u8ACB\u624B\u52D5\u6309\u9023\u7D50<br><h2>Javascript didn't enable, please open it by yourself.</h2></h1></noscript><script>location.replace("${u.value}")<\/script><h1><a href="${u.value}">GO</a></h1></body></html>`}function w(o,n,a){var s=new Blob([o],{type:a});let e=document.createElement("a"),t=URL.createObjectURL(s);e.href=t,e.download=n,e.classList.add("button","is-success","uppercase"),e.innerText="download";let r=document.getElementById("download_button");r.innerHTML="",r.appendChild(e),e.click(),setTimeout(function(){r.removeChild(e),window.URL.revokeObjectURL(t)},100)}
